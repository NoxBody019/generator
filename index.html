<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Arch Generator — Premium Panel</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;600;700&display=swap');
  
  * { box-sizing: border-box; margin: 0; padding: 0; }
  html,body { 
    height:100%; 
    font-family: 'Space Grotesk', -apple-system, system-ui, sans-serif;
    background: #000000;
    color:#ffffff; 
    -webkit-font-smoothing:antialiased;
    overflow-x: hidden;
  }
  
  /* Animated gradient background */
  body::before {
    content: '';
    position: fixed;
    inset: 0;
    background: 
      radial-gradient(circle at 20% 20%, rgba(138, 43, 226, 0.15) 0%, transparent 50%),
      radial-gradient(circle at 80% 80%, rgba(0, 191, 255, 0.15) 0%, transparent 50%),
      radial-gradient(circle at 40% 60%, rgba(255, 0, 128, 0.1) 0%, transparent 40%);
    animation: gradientShift 15s ease infinite;
    pointer-events: none;
  }
  
  @keyframes gradientShift {
    0%, 100% { opacity: 0.8; transform: scale(1); }
    50% { opacity: 1; transform: scale(1.1); }
  }
  
  .wrap { 
    max-width:1200px; 
    margin:0 auto; 
    padding:40px 24px;
    position: relative;
    z-index: 1;
  }
  
  header { 
    display:flex; 
    align-items:center; 
    gap:20px; 
    margin-bottom:40px;
    animation: fadeInDown 0.8s cubic-bezier(0.16, 1, 0.3, 1);
  }
  
  @keyframes fadeInDown {
    from { opacity: 0; transform: translateY(-30px); }
    to { opacity: 1; transform: translateY(0); }
  }
  
  .brand {
    display:flex; 
    align-items:center; 
    gap:16px;
    background: linear-gradient(135deg, rgba(138, 43, 226, 0.1), rgba(0, 191, 255, 0.1));
    padding:16px 24px; 
    border-radius:20px;
    border: 1px solid rgba(255,255,255,0.1);
    backdrop-filter: blur(20px);
    box-shadow: 
      0 8px 32px rgba(138, 43, 226, 0.2),
      inset 0 1px 0 rgba(255,255,255,0.1);
    position: relative;
    overflow: hidden;
  }
  
  .brand::before {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(45deg, transparent, rgba(255,255,255,0.05), transparent);
    transform: translateX(-100%);
    animation: shine 3s infinite;
  }
  
  @keyframes shine {
    to { transform: translateX(100%); }
  }
  
  .logo {
    width:60px; 
    height:60px; 
    display:grid; 
    place-items:center; 
    border-radius:16px;
    background: linear-gradient(135deg, #8a2be2 0%, #00bfff 100%);
    box-shadow: 
      0 8px 24px rgba(138, 43, 226, 0.4),
      0 0 60px rgba(138, 43, 226, 0.3);
    position:relative;
    animation: pulse 2s ease-in-out infinite;
  }
  
  @keyframes pulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.05); }
  }
  
  .logo {
    background: url('https://roblox.fandom.com/wiki/Robux?file=Robux_Gold.svg') center center no-repeat;
    background-size: 70%;
    background-color: #00b3ff;
  }
  .logo::after {
    content: '';
  }
  
  h1 { 
    font-size:28px; 
    font-weight:700;
    background: linear-gradient(135deg, #ffffff, #00bfff);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }
  
  .subtitle { 
    font-size:14px; 
    color:#a0a0a0; 
    margin-top:4px;
    letter-spacing: 0.5px;
  }

  .panel { 
    display:grid; 
    grid-template-columns: 440px 1fr; 
    gap:24px; 
    align-items:start;
    animation: fadeIn 1s cubic-bezier(0.16, 1, 0.3, 1) 0.2s both;
  }
  
  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
  }
  
  @media (max-width:900px) { .panel { grid-template-columns: 1fr; } }

  .card {
    background: linear-gradient(135deg, rgba(255,255,255,0.05), rgba(255,255,255,0.02));
    border-radius:24px; 
    padding:24px;
    border: 1px solid rgba(255,255,255,0.1);
    backdrop-filter: blur(20px);
    box-shadow: 0 8px 32px rgba(0,0,0,0.4);
    position: relative;
    overflow: hidden;
  }
  
  .card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 1px;
    background: linear-gradient(90deg, transparent, rgba(138, 43, 226, 0.5), rgba(0, 191, 255, 0.5), transparent);
  }
  
  .packs { 
    display:flex; 
    flex-direction:column; 
    gap:12px; 
    margin-top:16px;
  }
  
  .pack {
    display:flex; 
    gap:16px; 
    align-items:center; 
    padding:16px; 
    border-radius:16px;
    transition: all .3s cubic-bezier(0.16, 1, 0.3, 1);
    cursor:pointer; 
    border:1px solid rgba(255,255,255,0.05);
    background: linear-gradient(135deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    position: relative;
  }
  
  .pack::before {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: 16px;
    padding: 1px;
    background: linear-gradient(135deg, rgba(138, 43, 226, 0.3), rgba(0, 191, 255, 0.3));
    -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
    -webkit-mask-composite: xor;
    mask-composite: exclude;
    opacity: 0;
    transition: opacity 0.3s;
  }
  
  .pack:hover {
    transform:translateY(-4px) scale(1.02);
    background: linear-gradient(135deg, rgba(138, 43, 226, 0.1), rgba(0, 191, 255, 0.05));
    box-shadow: 0 12px 40px rgba(138, 43, 226, 0.2);
  }
  
  .pack:hover::before {
    opacity: 1;
  }
  
  .pack .icon {
    width:70px; 
    height:70px; 
    border-radius:14px;
    background: url('https://roblox.fandom.com/wiki/Robux?file=Robux_Gold.svg') center center no-repeat;
    background-size: 80%;
    background-color: #00b3ff;
    border: 1px solid rgba(255,255,255,0.1);
    box-shadow: inset 0 2px 10px rgba(255,255,255,0.1);
  }
  
  .pack .details { flex:1; }
  .pack .title { 
    font-size:17px; 
    font-weight:700;
    background: linear-gradient(135deg, #ffffff, #00bfff);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }
  .pack .desc { 
    font-size:13px; 
    color:#888; 
    margin-top:4px;
  }
  
  .tag { 
    font-size:13px; 
    padding:8px 14px; 
    border-radius:12px; 
    background: linear-gradient(135deg, rgba(138, 43, 226, 0.2), rgba(0, 191, 255, 0.2));
    color:#ffffff; 
    border:1px solid rgba(255,255,255,0.1);
    font-weight: 600;
  }

  .generator {
    min-height:500px; 
    padding:24px; 
    display:flex; 
    flex-direction:column; 
    gap:20px;
  }
  
  .screen {
    flex:1; 
    border-radius:20px; 
    padding:24px; 
    background: linear-gradient(135deg, rgba(0,0,0,0.6), rgba(0,0,0,0.4));
    border:1px solid rgba(255,255,255,0.1);
    box-shadow: 
      inset 0 2px 10px rgba(0,0,0,0.3),
      0 8px 32px rgba(0,0,0,0.4);
    position:relative;
    overflow:hidden;
  }
  
  .screen .topbar { 
    display:flex; 
    justify-content:space-between; 
    align-items:center; 
    gap:16px;
    margin-bottom: 16px;
  }
  
  .userRow { display:flex; gap:12px; align-items:center; }
  
  .avatar {
    width:52px; 
    height:52px; 
    border-radius:14px; 
    display:grid; 
    place-items:center; 
    font-weight:700;
    font-size: 18px;
    background: linear-gradient(135deg, #8a2be2, #00bfff);
    border:2px solid rgba(255,255,255,0.2);
    box-shadow: 0 4px 20px rgba(138, 43, 226, 0.3);
  }
  
  .username { 
    font-weight:700; 
    font-size:16px;
    background: linear-gradient(135deg, #ffffff, #00bfff);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .console {
    margin-top:16px; 
    background: rgba(0,0,0,0.4); 
    border-radius:12px; 
    padding:16px; 
    font-family: 'JetBrains Mono', monospace;
    color:#00ff88; 
    font-size:13px; 
    line-height:1.6; 
    height:180px; 
    overflow:auto; 
    border:1px solid rgba(0,255,136,0.2);
    box-shadow: inset 0 0 20px rgba(0,255,136,0.05);
  }
  
  .console::-webkit-scrollbar { width: 6px; }
  .console::-webkit-scrollbar-track { background: rgba(0,0,0,0.2); }
  .console::-webkit-scrollbar-thumb { background: rgba(0,255,136,0.3); border-radius: 3px; }
  
  .progressArea { 
    display:flex; 
    gap:16px; 
    align-items:center; 
    margin-top:16px;
  }
  
  .progressBar {
    flex:1; 
    height:24px; 
    background: rgba(255,255,255,0.05); 
    border-radius:12px; 
    position:relative; 
    overflow:hidden; 
    border:1px solid rgba(255,255,255,0.1);
  }
  
  .progressFill {
    position:absolute; 
    left:0; 
    top:0; 
    bottom:0; 
    width:0%;
    background: linear-gradient(90deg, #8a2be2, #00bfff, #00ff88);
    background-size: 200% 100%;
    animation: gradientMove 2s linear infinite;
    box-shadow: 0 0 20px rgba(138, 43, 226, 0.6);
    height:100%; 
    border-radius:12px;
    transition: width 0.2s ease-out;
  }
  
  @keyframes gradientMove {
    to { background-position: 200% 0; }
  }
  
  .progressLabel { 
    min-width:70px; 
    text-align:right; 
    font-weight:700; 
    font-size:16px;
    background: linear-gradient(135deg, #ffffff, #00bfff);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .controls { 
    display:flex; 
    gap:12px; 
    align-items:center; 
    margin-top:16px; 
    flex-wrap: wrap;
  }
  
  .btn {
    padding:14px 24px; 
    border-radius:14px; 
    cursor:pointer; 
    font-weight:700; 
    border:0;
    font-size: 15px;
    background: linear-gradient(135deg, #8a2be2, #00bfff);
    color:#ffffff;
    box-shadow: 0 8px 24px rgba(138, 43, 226, 0.3);
    transition: all .3s cubic-bezier(0.16, 1, 0.3, 1);
    position: relative;
    overflow: hidden;
  }
  
  .btn::before {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(135deg, rgba(255,255,255,0.2), transparent);
    transform: translateX(-100%);
    transition: transform 0.3s;
  }
  
  .btn:hover::before {
    transform: translateX(100%);
  }
  
  .btn:hover {
    transform:translateY(-2px);
    box-shadow: 0 12px 32px rgba(138, 43, 226, 0.5);
  }
  
  .btn:active { 
    transform:translateY(0); 
  }
  
  .btn.secondary { 
    background: rgba(255,255,255,0.05);
    border:1px solid rgba(255,255,255,0.1);
    box-shadow: 0 4px 16px rgba(0,0,0,0.2);
  }

  .meta { 
    display:flex; 
    gap:10px; 
    align-items:center; 
    font-size:13px; 
    color:#888;
  }
  
  .ghost { opacity:0.7; font-size:13px; }

  .resultModal {
    position:absolute; 
    left:50%; 
    top:50%; 
    transform:translate(-50%,-50%) scale(0.9); 
    width:560px; 
    max-width:92%;
    background: linear-gradient(135deg, #1a1a1a, #0a0a0a);
    color:#ffffff; 
    padding:32px; 
    border-radius:24px;
    border: 1px solid rgba(255,255,255,0.1);
    box-shadow: 0 30px 80px rgba(0,0,0,0.8);
    z-index:40; 
    display:none; 
    text-align:center;
  }
  
  .resultModal.show { 
    display:block; 
    animation: modalPop .5s cubic-bezier(0.16, 1, 0.3, 1);
  }
  
  @keyframes modalPop { 
    from { 
      transform:translate(-50%,-50%) scale(0.8); 
      opacity:0;
    } 
    to { 
      transform:translate(-50%,-50%) scale(1); 
      opacity:1;
    } 
  }
  
  .resultModal h2 { 
    font-size:24px; 
    margin-bottom:12px;
    background: linear-gradient(135deg, #ffffff, #00bfff);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }
  
  .resultModal p { 
    color:#aaa; 
    margin-bottom:20px;
    line-height: 1.6;
  }
  
  .close { 
    margin-top:12px; 
    padding:12px 28px; 
    border-radius:12px; 
    background: linear-gradient(135deg, #8a2be2, #00bfff);
    color:#ffffff; 
    font-weight:700; 
    border:0; 
    cursor:pointer;
    transition: all 0.3s;
  }
  
  .close:hover {
    transform: scale(1.05);
    box-shadow: 0 8px 24px rgba(138, 43, 226, 0.4);
  }

  .sparkle { 
    position:absolute; 
    width:10px; 
    height:10px; 
    border-radius:50%; 
    background: radial-gradient(circle, #ffffff, #00bfff);
    box-shadow:0 0 20px #00bfff;
    opacity:0; 
    pointer-events:none;
  }

  .bg-lines { 
    position:absolute; 
    inset:0; 
    pointer-events:none; 
    overflow:hidden; 
    opacity:0.03;
  }
  
  .bg-lines::before {
    content:""; 
    position:absolute; 
    inset:-20%;
    background: 
      repeating-linear-gradient(0deg, transparent, transparent 40px, rgba(138, 43, 226, 0.1) 40px, rgba(138, 43, 226, 0.1) 41px),
      repeating-linear-gradient(90deg, transparent, transparent 40px, rgba(0, 191, 255, 0.1) 40px, rgba(0, 191, 255, 0.1) 41px);
    animation: bgScroll 30s linear infinite;
  }
  
  @keyframes bgScroll { 
    to { transform: translate(40px, 40px); } 
  }

  .speed { 
    font-weight:700;
    background: linear-gradient(135deg, #ffd700, #ff8c00);
    padding:6px 12px; 
    border-radius:8px;
    font-size:12px;
    box-shadow: 0 4px 12px rgba(255, 215, 0, 0.2);
  }

  footer { 
    margin-top:40px; 
    text-align:center; 
    color:#666; 
    font-size:13px;
    animation: fadeIn 1.2s ease-in-out 0.4s both;
  }
  
  footer strong {
    color: #8a2be2;
  }

</style>
</head>
<body>
<div class="wrap">
  <header>
    <div class="brand">
      <div class="logo" aria-hidden="true"></div>
      <div>
        <h1>ARCH — Generator</h1>
        <div class="subtitle">Premium Panel • Live Dashboard</div>
      </div>
    </div>
  </header>

  <div class="panel">
    <div class="card">
  <h3 style="font-size:18px;color:#fff;font-weight:700;">Select your pack</h3>
      <div class="packs" id="packs"></div>

      <div style="margin-top:20px; display:flex; justify-content:space-between; align-items:center;">
        <div class="meta">
          <div class="ghost">Status:</div>
          <div id="statusTag" class="tag">Ready</div>
        </div>
        <div class="meta">
          <div class="ghost">⚡</div>
          <div class="ghost" id="estTime">ETA: —</div>
        </div>
      </div>
    </div>

    <div class="card generator">
      <div class="screen" id="screen">
        <div class="topbar">
          <div class="userRow">
            <div class="avatar" id="avatar">AX</div>
            <div>
                <div class="username" id="username">ArchUser</div>
                <div style="font-size:13px;color:#666;">ID: <span id="userid">#000000</span></div>
              </div>
          </div>
          <div class="meta">
            <div class="ghost">Network:</div>
            <div class="speed" id="netLoad">Optimal</div>
          </div>
        </div>

        <div class="console" id="console" aria-live="polite">
          <div style="opacity:0.8; font-style:italic;">→ System console initialized</div>
          <div id="logInner" style="margin-top:12px;"></div>
        </div>

        <div class="progressArea">
          <div class="progressBar" aria-hidden="true">
            <div class="progressFill" id="fill"></div>
          </div>
          <div class="progressLabel" id="progressLabel">0%</div>
        </div>

        <div class="controls">
          <button class="btn" id="startBtn">Start Generation</button>
          <button class="btn secondary" id="resetBtn">Reset</button>
          <div style="flex:1"></div>
        </div>

        <div class="resultModal" id="resultModal" role="dialog" aria-modal="true">
          <div style="font-size:48px; margin-bottom:12px;">✨</div>
          <h2 id="resultTitle">Generation Complete</h2>
          <p id="resultText">The process completed successfully.</p>
          <button class="close" id="closeResult">Close</button>
        </div>

        <div class="bg-lines"></div>
        <canvas id="confettiCanvas" style="position:absolute; inset:0; width:100%; height:100%; pointer-events:none; z-index:20;"></canvas>
      </div>

        <div style="display:flex; gap:12px; align-items:center; justify-content:space-between;">
        <div class="ghost">Premium Interface</div>
        <div style="text-align:right; font-size:12px; color:#666;">Live Mode</div>
      </div>
    </div>
  </div>

  <footer>Arch Generator Panel</footer>

</div>

<script>
(function(){
  const packs = [
    { id:'p1', label:'Starter - 1K', amount:1000, desc:'Beginner pack', icon:'R$', speed:'Ultra fast' },
    { id:'p2', label:'Basic - 5K', amount:5000, desc:'Basic pack', icon:'R$', speed:'Very fast' },
    { id:'p3', label:'Standard - 25K', amount:25000, desc:'Standard pack', icon:'R$', speed:'Fast' },
    { id:'p4', label:'Advanced - 100K', amount:100000, desc:'Advanced pack', icon:'R$', speed:'Medium' },
    { id:'p5', label:'Premium - 500K', amount:500000, desc:'Premium pack', icon:'R$', speed:'Slow' },
    { id:'p6', label:'Ultimate - 2.5M', amount:2500000, desc:'Ultimate pack', icon:'R$', speed:'Very slow' }
  ];

  const packsEl = document.getElementById('packs');
  const statusTag = document.getElementById('statusTag');
  const estTime = document.getElementById('estTime');
  const netLoad = document.getElementById('netLoad');
  const consoleInner = document.getElementById('logInner');
  const fill = document.getElementById('fill');
  const progressLabel = document.getElementById('progressLabel');
  const startBtn = document.getElementById('startBtn');
  const resetBtn = document.getElementById('resetBtn');
  const resultModal = document.getElementById('resultModal');
  const resultTitle = document.getElementById('resultTitle');
  const resultText = document.getElementById('resultText');
  const closeResult = document.getElementById('closeResult');
  const confettiCanvas = document.getElementById('confettiCanvas');
  const screen = document.getElementById('screen');

  function fitCanvas() {
    confettiCanvas.width = confettiCanvas.clientWidth * devicePixelRatio;
    confettiCanvas.height = confettiCanvas.clientHeight * devicePixelRatio;
    ctx && (ctx.scale(devicePixelRatio, devicePixelRatio));
  }
  window.addEventListener('resize', fitCanvas);

  let selectedPack = packs[0];
  function renderPacks(){
    packsEl.innerHTML = '';
    packs.forEach(p=>{
      const div = document.createElement('div');
      div.className = 'pack';
      div.dataset.id = p.id;
      div.innerHTML = `
        <div class="icon" aria-hidden="true">${p.icon}</div>
        <div class="details">
          <div style="display:flex; justify-content:space-between; align-items:center;">
            <div>
              <div class="title">${p.label}</div>
              <div class="desc">${p.desc}</div>
            </div>
            <div style="text-align:right">
              <div class="tag">${p.amount.toLocaleString().replace(/,/g,' ')}</div>
              <div style="margin-top:8px;"><span class="speed" style="font-size:11px;">${p.speed}</span></div>
            </div>
          </div>
        </div>
      `;
      div.addEventListener('click', ()=> selectPack(p.id));
      packsEl.appendChild(div);
    });
    selectPack(selectedPack.id);
  }

  function selectPack(id){
    selectedPack = packs.find(x=>x.id===id) || packs[0];
    Array.from(packsEl.children).forEach(c=> {
      if(c.dataset.id===id) {
        c.style.background = 'linear-gradient(135deg, rgba(138, 43, 226, 0.15), rgba(0, 191, 255, 0.1))';
        c.style.borderColor = 'rgba(138, 43, 226, 0.3)';
        c.style.boxShadow = '0 8px 32px rgba(138, 43, 226, 0.3)';
      } else {
        c.style.background = 'linear-gradient(135deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01))';
        c.style.borderColor = 'rgba(255,255,255,0.05)';
        c.style.boxShadow = 'none';
      }
    });
    statusTag.textContent = 'Pack selected';
    estTime.textContent = 'ETA: ' + estimateTime(selectedPack.amount);
  }

  function estimateTime(amount){
    if (amount <= 5000) return '8–20s';
    if (amount <= 25000) return '20–40s';
    if (amount <= 100000) return '40–90s';
    if (amount <= 500000) return '1m30–3m30';
    return '3m30–7m';
  }

  function logLine(text, opts){
    const p = document.createElement('div');
    p.textContent = text;
    if (opts && opts.bold) p.style.fontWeight='700';
    consoleInner.appendChild(p);
    consoleInner.scrollTop = consoleInner.scrollHeight;
  }

  function typeLog(array, cb){
    let i=0;
    function next(){
      if (i>=array.length){ cb && cb(); return; }
      const item = array[i++];
      logLine('→ ' + item);
      setTimeout(next, 500 + Math.random()*400);
    }
    next();
  }

  let progress = 0;
  let running = false;
  let progressTimer = null;

  function startGeneration(){
    if (running) return;
    running = true;
    progress = 0;
    fill.style.width = '0%';
    progressLabel.textContent = '0%';
    consoleInner.innerHTML = '';
    statusTag.textContent = 'Connecting...';
    netLoad.textContent = ['Optimal','Fast','Stable','Secure'][Math.floor(Math.random()*4)];
    startBtn.disabled = true;

    typeLog([
      `Initializing Arch protocol...`,
      `Quantum authentication established`,
      `Connected to node #${(1000+Math.floor(Math.random()*8999))}`,
      `Negotiating bandwidth...`
    ], ()=>{
      statusTag.textContent = 'Allocating resources';
      let servers = [
        'arch-eu-prime-01',
        'arch-us-quantum-7',
        'arch-asia-node-9',
        'arch-relay-core-4'
      ].slice(0, 2 + Math.floor(Math.random()*3));
      typeLog([`Servers: ${servers.join(', ')}`, `Allocating virtual slot...`, `Generation pipeline prepared...`], ()=>{
        let total = selectedPack.amount;
        let base = Math.min(100000 + total/8, 450000);
        let duration = Math.floor(base * (0.8 + Math.random()*0.6));
        if (total <= 5000) duration = 8000 + Math.floor(Math.random()*12000);
        if (total <= 25000) duration = Math.max(duration * 0.5, 12000);
        const tickMs = 250;
        const ticks = Math.max(40, Math.floor(duration / tickMs));
        let tickCount = 0;

  logLine('→ Starting Arch pipeline...');
        progressTimer = setInterval(()=>{
          tickCount++;
          let t = tickCount / ticks;
          let curve = (Math.sin((t*Math.PI - Math.PI/2)) + 1) / 2;
          progress = Math.floor(curve * 100);
          if (t > 0.88 && Math.random() < 0.08) progress = Math.max(progress - Math.floor(Math.random()*5), progress);
          fill.style.width = progress + '%';
          progressLabel.textContent = progress + '%';

          if (Math.random() < 0.25) {
            const sampleLogs = [
              'Verifying encrypted packets...',
              'Compressing transit data...',
              'Masking session metadata...',
              'Securing queue...',
              'Allocating virtual tokens...',
              'Synchronizing distributed nodes...'
            ];
            logLine('→ ' + sampleLogs[Math.floor(Math.random()*sampleLogs.length)]);
          }

          if (Math.random() < 0.1) spawnSparkle();

          if (tickCount >= ticks) {
            clearInterval(progressTimer);
            fill.style.width = '100%';
            progressLabel.textContent = '100%';
            setTimeout(finalizeGeneration, 600 + Math.random()*1400);
          }
        }, tickMs);
      });
    });
  }

  function finalizeGeneration(){
    logLine('→ Finalizing pipeline...');
    logLine(`→ Verification complete — Arch signature validated.`);
    resultTitle.textContent = 'Generation Successful';
    resultText.textContent = `Pack ${selectedPack.label} (${selectedPack.amount.toLocaleString().replace(/,/g,' ')}) generated successfully.`;
    showResult();
    running = false;
    startBtn.disabled = false;
    statusTag.textContent = 'Completed ✓';
    estTime.textContent = 'ETA: —';
  }

  function resetAll(){
    if (progressTimer) { clearInterval(progressTimer); progressTimer = null; }
    running = false;
    fill.style.width = '0%';
    progressLabel.textContent = '0%';
    consoleInner.innerHTML = '';
    statusTag.textContent = 'Reset';
    netLoad.textContent = 'Optimal';
    startBtn.disabled = false;
  }

  function spawnSparkle(){
    const s = document.createElement('div');
    s.className = 'sparkle';
    screen.appendChild(s);
    const left = 30 + Math.random()*60;
    const top = 15 + Math.random()*70;
    s.style.left = left + '%';
    s.style.top = top + '%';
    s.style.opacity = '1';
    s.style.transform = 'scale(0.1)';
    s.animate([
      { transform:'scale(0.1)', opacity:1 },
      { transform:'scale(1.5)', opacity:0 }
    ], { duration:800 + Math.random()*900, easing:'cubic-bezier(.2,.9,.3,1)'});
    setTimeout(()=> s.remove(), 1800);
  }

  function showResult(){
    resultModal.classList.add('show');
    launchConfetti();
  }
  
  closeResult.addEventListener('click', ()=> {
    resultModal.classList.remove('show');
    clearConfetti();
  });

  startBtn.addEventListener('click', ()=> {
    if (!selectedPack) { alert('Please select a pack.'); return; }
    startGeneration();
  });
  
  resetBtn.addEventListener('click', resetAll);

  renderPacks();

  const usernameEl = document.getElementById('username');
  const avatarEl = document.getElementById('avatar');
  const uidEl = document.getElementById('userid');
  const names = ['Arch', 'Quantum', 'Nexus', 'Cipher', 'Apex'];
  const name = names[Math.floor(Math.random()*names.length)];
  usernameEl.textContent = name;
  avatarEl.textContent = name.slice(0,2).toUpperCase();
  uidEl.textContent = '#'+(100000+Math.floor(Math.random()*899999));

  let ctx = null;
  let confettiParticles = [];
  let confettiRAF = null;

  function makeParticle(x,y,dx,dy, size, color, lifetime){
    return { x,y,dx,dy,size,color,life:lifetime,age:0,spin:Math.random()*6-3 };
  }

  function launchConfetti(){
    if (!confettiCanvas) return;
    if (!ctx) {
      ctx = confettiCanvas.getContext('2d');
      fitCanvas();
    }
    const rect = confettiCanvas.getBoundingClientRect();
    const cx = rect.width / 2;
    for (let i=0;i<100;i++){
      const angle = Math.random()*Math.PI - Math.PI/2;
      const speed = 2 + Math.random()*7;
      const dx = Math.cos(angle)*speed + (Math.random()-0.5)*2;
      const dy = Math.sin(angle)*speed + (Math.random()*2);
      const size = 8 + Math.random()*14;
      const colors = ['#8a2be2', '#00bfff', '#00ff88', '#ff1493', '#ffd700'];
      const color = colors[Math.floor(Math.random()*colors.length)];
      confettiParticles.push(makeParticle(cx + (Math.random()*200-100), -10 + Math.random()*50, dx, dy, size, color, 220 + Math.random()*140));
    }
    if (!confettiRAF) confettiLoop();
  }

  function confettiLoop(){
    confettiRAF = requestAnimationFrame(confettiLoop);
    ctx.clearRect(0,0,confettiCanvas.width, confettiCanvas.height);
    for (let i=confettiParticles.length-1;i>=0;i--){
      const p = confettiParticles[i];
      p.age++;
      p.x += p.dx;
      p.y += p.dy + 0.1*p.age/10;
      p.dy += 0.04;
      p.dx *= 0.997;
      ctx.save();
      ctx.translate(p.x, p.y);
      ctx.rotate(p.age*0.05 + p.spin);
      ctx.fillStyle = p.color;
      ctx.fillRect(-p.size/2, -p.size/2, p.size, p.size*0.6);
      ctx.restore();
      if (p.age > p.life || p.y > confettiCanvas.height + 50) {
        confettiParticles.splice(i,1);
      }
    }
    if (confettiParticles.length===0){
      clearConfetti();
    }
  }

  function clearConfetti(){
    if (confettiRAF) { cancelAnimationFrame(confettiRAF); confettiRAF = null; }
    confettiParticles = [];
    if (ctx) {
      ctx.clearRect(0,0,confettiCanvas.width, confettiCanvas.height);
    }
  }

  fitCanvas();

  setInterval(()=>{
    if (!running) return;
    if (Math.random() < 0.15) logLine('→ Latency check — OK');
    if (Math.random() < 0.06) {
      const msgs = ['Sync quantum active', 'Hash validation OK', 'Memory allocation stable', 'Network mirror online'];
      logLine('→ ' + msgs[Math.floor(Math.random()*msgs.length)]);
    }
  }, 3000);

})();
</script>
</body>
</html>
